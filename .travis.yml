sudo: required

language: python

services:
  - docker

python:
  - "3.4"

before_install:
  # application expects swagger.yaml to be in the same folder as python scripts
  - cp swagger.yaml src/swagger.yaml

  # build and run docker container with kafka
  - cd local-test
  - make run
  - cd ..

# install dependencies
install:
  - pip install -r requirements.txt

# run tests
script:
  - cd src
  - python -m unittest discover